#set your language below
language: ruby

#specify which services you need. This is only valid if you use the default Shippable image for your build
services:

env:

matrix:

build:
    #commands in this section run on your build machine and not inside your CI container.
    pre_ci:
      - ls -al
      - docker --version
      - free -m
      - cat /etc/lsb-release
      - >
        docker run --rm -i \
        --net host  \
        --name ruby \
        -e BUNDLE_PATH=/usr/src/app/rubies \
        -e BUNDLE_BIN=/usr/src/app/rubies \
        -e BUNDLE_APP_CONFIG=/usr/src/app/rubies \
        -e GEM_HOME=/usr/src/app/rubies \
        -v /var/run/docker.sock:/var/run/docker.sock \
        -v "$PWD":/usr/src/app \
        -e PATH=/usr/local/bundle/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/src/app:/usr/src/app/rubies \
        -w /usr/src/app ruby:2.1  \
        bundler install

    pre_ci_boot:
        image_name:
        image_tag:
        pull:
        options:
    #commands in this section run inside your CI container. In addition, any commands such as ls, in this section can be used to skip default processing for CI.
    ci:

    post_ci:
    on_success:
    on_failure:
    cache:
    #commands in this section run on your build machine and not inside your CI container.
    push:


